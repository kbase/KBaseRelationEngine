// Taxonomy
CREATE INDEX ON:Taxon(kbid);


USING PERIODIC COMMIT 10000
LOAD CSV WITH HEADERS FROM
'file:///taxonomy.tsv' AS line

FIELDTERMINATOR '\t'
WITH line
create (u:Taxon {kbid: line.kbid, name: line.name, parent:line.parents})
WITH line, u 
MATCH (to:Taxon  {kbid: line.parents})
create (u)-[r:IN_CATEGORY]->(to);

// Gene 
CREATE INDEX ON:Gene(kbid);


USING PERIODIC COMMIT 10000
LOAD CSV WITH HEADERS FROM
'file:///gene.tsv' AS line

FIELDTERMINATOR '\t'
WITH line
create (u:Gene {kbid: line.kbid, source:line.source})
WITH line, u 
MATCH (to:Taxon  {kbid: line.kbtaxon})
create (u)-[r:PART_OF]->(to);

// Orthologs
CREATE INDEX ON:OrthologyGroup(kbid);

USING PERIODIC COMMIT 10000
LOAD CSV WITH HEADERS FROM
'file:///ortholog.tsv' AS line

FIELDTERMINATOR '\t'
WITH line
create (u:Gene {kbid: line.kbid, source:line.source})
WITH line, u 
MATCH (to:Taxon  {kbid: line.kbtaxon})
create (u)-[r:PART_OF]->(to);





